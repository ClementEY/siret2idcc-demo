const parseWeez = require("../parseWeez");

test("should parse weez content correctly", () => {
  expect(
    parseWeez(`MOIS,SIRET,IDCC,DATE_MAJ
2019-04,38456979400017,1505  ,2019/06/15
2019-04,82116811900013,1486  ,2019/06/15
2019-04,42370591200065,1516  ,2019/06/15
2019-04,99882350424480,2378  ,2019/06/15
2019-04,78842534600012,0993  ,2019/06/15
2019-04,43521016600060,0493  ,2019/06/15
2019-04,45170737600013,1147  ,2019/06/15
2019-04,33971149100029,1597  ,2019/06/15
2019-04,78183765300026,1518  ,2019/06/15
2019-04,51756284900011,1572  ,2019/06/15
2019-04,75326582600010,1090  ,2019/06/15
2019-04,40314218500038,1518  ,2019/06/15
2019-04,81975136300014,1996  ,2019/06/15
2019-04,50475742800017,1930  ,2019/06/15
2019-04,49200732300016,0953  ,2019/06/15`)
  ).toMatchSnapshot();
});

test("should group idcc correctly", () => {
  expect(
    parseWeez(`MOIS,SIRET,IDCC,DATE_MAJ
2019-04,AAAAA,1505  ,2019/06/15
2019-04,BBBBB,1486  ,2019/06/15
2019-04,BBBBB,1516  ,2019/06/15
2019-04,BBBBB,2378  ,2019/06/15
2019-04,AAAAA,1483  ,2019/06/15`)
  ).toMatchSnapshot();
});
